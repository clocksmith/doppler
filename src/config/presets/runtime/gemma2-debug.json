{
  "name": "gemma2-debug",
  "description": "Gemma 2 probe-focused debugging with targeted trace categories",
  "extends": "debug",
  "runtime": {
    "inference": {
      "compute": {
        "activationDtype": "f16"
      },
      "kvcache": {
        "kvDtype": "f16"
      }
    },
    "shared": {
      "debug": {
        "trace": {
          "enabled": true,
          "categories": ["ffn", "attn", "logits"],
          "layers": [0, 17, 25],
          "maxDecodeSteps": 20
        },
        "probes": [
          {
            "id": "dim334-layer-out",
            "stage": "layer_out",
            "layers": [0, 17, 25],
            "tokens": [0, -1],
            "dims": [334]
          },
          {
            "id": "dim334-final-norm",
            "stage": "final_norm",
            "layers": null,
            "tokens": [-1],
            "dims": [334]
          }
        ]
      }
    }
  }
}
